<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Estimasi Biaya Jasa AS Karya</title>
    
    <link rel="stylesheet" href="style.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

    <header>
        <h1>AS Karya: Sistem Estimasi Biaya Jasa</h1>
        <subtext>AS Karya: Mitra Anda dalam Menciptakan Bangunan Impian</subtext>
    </header>

    <div class="container">
        <section id="input-form">
            <h2>Input Data Proyek</h2>
            <div class="form-group">
                <label for="perusahaan-pemberi">Perusahaan Pemberi Kerja:</label>
                <input type="text" id="perusahaan-pemberi" value="PT. ABC Jaya" required>
            </div>
            <div class="form-group">
                <label for="nama-pemberi">Nama Pemberi Kerja:</label>
                <input type="text" id="nama-pemberi" value="Bapak Doni" required>
            </div>
            <div class="form-group">
                <label for="jenis-pekerjaan">Jenis Pekerjaan:</label>
                <input type="text" id="jenis-pekerjaan" value="Desain Interior Kantor" required>
            </div>
            <div class="form-group">
                <label for="tanggal-input">Tanggal:</label>
                <input type="date" id="tanggal-input" value="2025-10-30" required>
            </div>
            <div class="form-group">
                <label for="kode-referal">Kode Referal:</label>
                <input type="text" id="kode-referal" placeholder="Masukkan kode referal">
            </div>
            
            <h3>Detail Pekerjaan</h3>
            <div id="daftar-pekerjaan">
                <div class="pekerjaan-row form-group" data-id="1">
                    <label>Pekerjaan 1:</label>
                    <select class="item-pekerjaan">
                        <option value="">-- Pilih Pekerjaan --</option>
                    </select>
                    <label>Luas Pekerjaan (mÂ²):</label>
                    <input type="number" class="luas-input" min="0.01" step="0.01" value="50" required>
                </div>
            </div>
            
            <button type="button" class="btn btn-secondary" onclick="tambahBarisPekerjaan()">+ Tambah Item Pekerjaan</button>
            <div class="action-buttons">
                <button type="button" class="btn btn-primary" onclick="generateBOQ()">GENERATE BOQ</button>
            </div>
        </section>

        <section id="boq-output" style="display:none;">
            <div class="print-header">
                <img src="Watermark Untuk Hasil Design.png" alt="Logo Perusahaan" width="50" height="50"> 
                <p>Rekapitulasi Biaya Jasa AS Consult</p>
            </div>

            <div class="kop-surat">
                <p><span class="kop-label">Perusahaan Pemberi Kerja:</span> <span id="boq-perusahaan"></span></p>
                <p><span class="kop-label">Nama Pemberi Kerja:</span> <span id="boq-pemberi"></span></p>
                <p><span class="kop-label">Jenis Pekerjaan:</span> <span id="boq-jenis"></span></p>
                <p><span class="kop-label">Tanggal:</span> <span id="boq-tanggal"></span></p>
            </div>

            <table id="boq-table">
                <thead>
                    <tr>
                        <th style="width: 5%;">No.</th>
                        <th style="width: 35%;">Uraian Pekerjaan</th>
                        <th style="width: 15%;">Luas Pekerjaan</th>
                        <th style="width: 15%;">Satuan Pekerjaan</th>
                        <th style="width: 15%;">Harga Satuan (Rp.)</th>
                        <th style="width: 15%;">Jumlah Harga (Rp.)</th>
                    </tr>
                </thead>
                <tbody id="boq-body">
                    </tbody>
                <tfoot>
                    <tr class="total-row">
                        <td colspan="5">SUBTOTAL BIAYA PEKERJAAN</td>
                        <td id="subtotal-estimasi">Rp 0,-</td>
                    </tr>
                    <tr class="discount-row" style="display: none;" id="discount-display">
                        <td colspan="5">POTONGAN KODE REFERAL</td>
                        <td id="discount-amount">Rp 0,-</td>
                    </tr>
                    <tr class="grand-total-row">
                        <td colspan="5">TOTAL BIAYA KESELURUHAN</td>
                        <td id="grand-total-estimasi">Rp 0,-</td>
                    </tr>
                </tfoot>
            </table>

            <div class="print-footer">
                <p>Terima kasih telah menjadikan kami sebagai mitra anda. Kami berharap anda puas dengan hasilnya.</p>
                <div class="ttd">
                    <p>Hormat Kami,</p>
                    <br><br><br>
                    <p>AS Karya</p>
                </div>
            </div>

            <div class="action-buttons print-buttons">
                <button type="button" class="btn btn-secondary" onclick="downloadPDF()">
                    Download PDF Rekapitulasi
                </button>
                <button type="button" class="btn btn-secondary" onclick="window.print()">
                    Print Out (Cetak Dokumen)
                </button>
            </div>
        </section>
    </div>

    <footer>
        <img src="Watermark Untuk Hasil Design.png" alt="Logo Perusahaan" width="50" height="50">
        <p>&copy; Website by: AS Karya 2025</p>
    </footer>

    <script src="script.js"></script> 
</body>
</html>
